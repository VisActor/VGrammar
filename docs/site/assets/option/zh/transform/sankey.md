{{ target: transform-sankey }}

## transform.sankey(Object)

对层次数据进行变换，计算 sankey 布局

### type(string) = sankey

将数据变换类型设置为 `sankey`，用于计算 sankey 布局

### direction(string)='horizontal'

桑基图的布局方向，默认值为水平方向，可选值为：

- `'horizontal'` 将布局方向设置为水平方向
- `'vertical'` 将布局方向设置为垂直方向

### nodeAlign(string)='justify'

设置同一层级中，节点的对齐方式，可选值为：

- `'left'` 如果布局方向为水平方向，节点左对齐，如果布局方向为垂直方向，节点顶部对齐
- `'right'` 如果布局方向为水平方向，节点右对齐，如果布局方向为垂直方向，节点底部对齐
- `'center'` 节点居中对齐
- `'justify'` 节点两端对齐
- `'start'` 和`'left'`相同的含义
- `'end'` 和`'right'`相同的含义

### nodeGap(number)=8

设置同一层级中，节点之间的间隔大小

### nodeWidth

设置节点的宽度，如果布局方向为垂直布局，则这个值对应的是节点的高度，支持三种类型的值

- 1.  `string` 百分比字符串，例如：{ nodeWidth: '12%' }
- 2.  `number` 简单数字，单位为 px，例如：{ nodeWidth: 20 }
- 3.  `function` 函数，自定义计算节点宽度

### linkWidth(number)

指定节点之间的连边的宽度，单位为`px`；如果布局方向为垂直布局，则这个值对应的是连边的高度；
这个值可以不设置，不设置的时候，会根据层级的个数自动计算出一个合适的值

### minStepWidth(number)

每一层对应的最小宽度（= 单个节点的宽度+单个连边的宽度）；如果布局为垂直布局，则这个值对应的是高度；
如果不设置，则会根据节点的个数自动计算出一个合适的值；
用于特殊的布局场景，建议如果设置了这个属性，在图形展示的时候配合滚动条一起使用

### minNodeHeight(number)

对于数据非空的节点，设置节点的最小高度，单位为`px`；如果布局为垂直布局，则这个值对应的是宽度；

这个配置主要解决当数据非常小的时候，节点的高度会非常小，导致节点无法被看到的问题；

建议这个值不要设置的太大，一般不要超过 `5`

### minLinkHeight(number)

设置连边的最小高度，单位为`px`；如果布局为垂直布局，则这个值对应的是宽度；
这个配置主要解决当数据非常小的时候，连边的高度会非常小，导致连边无法被看到的问题；
建议这个值不要设置的太大，一般不要超过 `5`
可以和`minNodeHeight`配合使用;建议这个值要小于`minNodeHeight`设置的值

### iterations(number)=6

设置布局计算的迭代次数，迭代的次数越多，布局计算的结果越精确，但是计算的时间也会越长

### nodeKey

类型：`string|number`
设置节点的全局唯一 key 对应的字段，如果不设置，内部会根据层级等信息自动生成

### linkSortBy(function)

设置边的排序函数，如果不设置，不对边相关的数据，进行任何排序

### nodeSortBy(function)

设置节点的排序函数，如果不设置，不对节点的数据，进行任何排序

### setNodeLayer

自定义设置节点最终展示在第几层级，默认不需要设置，只有特殊的定制化的需求，需要设置
